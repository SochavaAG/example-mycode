<!DOCTYPE html>
<!--[if lt IE 7]><html lang="ru" class="lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html lang="ru" class="lt-ie9 lt-ie8"><![endif]-->
<!--[if IE 8]><html lang="ru" class="lt-ie9"><![endif]-->
<!--[if gt IE 8]><!-->
<html lang="ru">
<!--<![endif]-->
<head>
  <meta charset="utf-8" />
  <title>Line Carousel</title>
  <meta name="description" content="Создание адаптивного сайта" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="shortcut icon" href="../../_common/images/favicon.png" />

  <link rel="stylesheet" href="../../_common/css/reset.css" />
  <link rel="stylesheet" href="css/style.css" />
</head>

<body>
<style>
  .ag-line-block {
    width: 100%;
    height: 54px;
    border-top: 1px solid #f3cc66;
    background-color: #363c3f;
    overflow: hidden;
  }
  .ag-line_box-wrap {
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-align-items: center;
    -ms-flex-align: center;
    align-items: center;
    list-style: none;
    width: 9999px;
    height: 100%;
  }
  .js-ag-line_box {
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    position: relative;
    box-sizing: border-box;
    -webkit-align-items: center;
    -ms-flex-align: center;
    align-items: center;
    padding-right: 90px;
    width: calc(100% + 270px);
    height: 56px;
    margin-left: -266px;
  }

  .js-ag-line_item {
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    cursor: default;
    -webkit-align-items: center;
    -ms-flex-align: center;
    align-items: center;
    -webkit-justify-content: space-between;
    -ms-flex-pack: justify;
    justify-content: space-between;
    width: 245px;
    height: 100%;
    padding: 0 5px 0 15px;
    color: #f3cc66;
    border-right: 1px solid #f3cc66;
    border-bottom: 2px solid transparent;
    transform: translateX(0px);
    position: absolute;
    top: 0;
    transition: -webkit-transform 1s linear;
    transition: transform 1s linear;
  }
  .js-ag-line_item:first-child {
    margin-left: 0;
  }
  .js-ag-line_item:hover {
    border-bottom: 2px solid #f3cc66;
  }

  .js-ag-line_item_text {
    margin: auto 0;
  }
  .js-ag-line_logo-item {
    background-size: 100% 100%;
    width: 30px;
    height: 30px;
    display: block;
    margin-right: 12px;
  }
  .js-ag-icons {
    display: block;
    height: 30px;
    width: 30px;
    margin-right: 12px;
    background-size: 100% 100%;
  }
  .js-ag-icon-1 {
    background-image: url(https://raw.githubusercontent.com/SochavaAG/example-mycode/master/pens/line-carousel/images/sprite-sport.png);
  }
</style>

<div class="ag-line-block">
  <div class="ag-line_box-wrap">
    <div class="js-ag-line_box">
    </div>
  </div>
</div>
  <div class="ag-format-container">

  </div>

<!--[if lt IE 9]>
<script src="libs/IE/html5shiv/es5-shim.min.js"></script>
<script src="libs/IE/html5shiv/html5shiv.min.js"></script>
<script src="libs/IE/html5shiv/html5shiv-printshiv.min.js"></script>
<script src="libs/IE/respond/respond.min.js"></script>
<![endif]-->
<script src="js/jquery/jquery-1.11.1.min.js"></script>

<script src="js/main.js"></script>
<script>
  (function ($) {
    $(function () {

      var EventLine = {
        itemWidth: 266,
        load_promisse: null,
        stop: false,
        events: {
          res: [
            {
              Sport: 1,
              Text: "Lorem ipsum dolor sit amet consectetuer adipiscing elit"
            },
            {
              Sport: 2,
              Text: "Aenean commodo ligula eget dolor Aenean massa Cum sociis"
            },
            {
              Sport: 3,
              Text: "Natoque penatibus et magnis dis parturient montes"
            },
            {
              Sport: 4,
              Text: "Gascetur ridiculus mus Donec quam felis ultricies nec"
            },
            {
              Sport: 5,
              Text: "Pellentesque eu pretium quis sem Nulla consequat massa"
            },
            {
              Sport: 6,
              Text: "Quis enim Donec pede justo fringilla vel aliquet nec"
            },
            {
              Sport: 7,
              Text: "Vulputate eget arcu In enim justo rhoncus ut imperdiet"
            },
            {
              Sport: 8,
              Text: "Wvenenatis vitae justo Nullam dictum felis eu pede"
            },
            {
              Sport: 9,
              Text: "Amollis pretium Integer tincidunt Cras dapibus Vivamus"
            },
            {
              Sport: 10,
              Text: "Relementum semper nisi Aenean vulputate eleifend tellus"
            },
            {
              Sport: 11,
              Text: "Ienean leo ligula porttitor eu consequat vitae eleifend ac"
            },
            {
              Sport: 12,
              Text: "Tenim Aliquam lorem ante dapibus in viverra quis"
            },
            {
              Sport: 13,
              Text: "Ofeugiat a tellus Phasellus viverra nulla ut metus varius"
            },
            {
              Sport: 14,
              Text: "Udui Etiam rhoncus Maecenas tempus tellus eget"
            }
          ]
        },
        start: function () {
          this.addEvent();
        },
        lineToggle: function () {
          $('.sa_line').toggle();
        },
        shift: function () {
          $('.js-ag-line_item').each(function (i, item) {
            var $item = $(item),
              transXRegex = /\.*translateX\((.*)px\)/i,
              $itemTransform = $item.attr('style'),
              position = parseInt(transXRegex.exec($itemTransform)[1]);

            $item.css('transform', 'translateX(' + (position + EventLine.itemWidth) + 'px' + ')');
          });
        },
        addEvent: function () {
          if (this.events && this.events.res && this.events.res.length) {
            var eventId = Math.max(EventLine.events.res.length - 1),
              event = EventLine.events.res[eventId];

            this.shift();

            var $item =
              '<div class="js-ag-line_item" style="transform: translateX(0px)">' +
              '<div class="js-ag-line_logo-item">' +
              '<span class="js-ag-icons js-ag-icon-' + event.Sport + '"></span>' +
              '</div>' +
              '<p class="js-ag-line_item_text">' + event.Text + '</p>' +
              '</div>';

            $('.js-ag-line_box').prepend($item);

            delete this.events[this.events.res.length - 1];
            this.events.res.length--;

            setTimeout(function () {
              !EventLine.stop && EventLine.addEvent();
            }, 5000);
          }
        }
      };

      $(window).on('load', function () {
        EventLine.start();
      });


    });
  })(jQuery);
</script>
</body>
</html>